<app-header></app-header>
<section id="secondary-header">
    <div class="container d-flex align-items-center gap-2">
        <a href="" class="primary-link fw-bold">Home</a>
        <span>/</span>
        <span>Unit Registration</span>
    </div>
</section>
<section id="page-content">
    <div class="container">
        <form action="">
            <div class="row " style="background-color: rgba(226, 242, 246, 1); padding: 5%; margin-bottom: 0.5cm;"
                *ngFor="let details of fullArr; let ii=index;let first = first; let last = last">
                <div class="col-sm-6 col-md-4  ">
                    <div class="form-group">
                        <label for="fullArr[ii].state.stateId" class="form-label">State<span
                                class="text-danger">*</span></label>
                        <select class="form-select" aria-label="Default select example"
                            [(ngModel)]="fullArr[ii].state.stateId" name="stateId{{ii}}" ngDefaultControl>
                            <option value="">Choose State... </option>
                            <option value={{item.stateId}} *ngFor="let item of details.allstate; let i = index">
                                {{item.stateName}}</option>
                        </select>
                    </div>

                </div>
                <div class="col-sm-6 col-md-4 ">
                    <div class="form-group">
                        <label for="fullArr[ii].sbu.locationId" class="form-label">SBU<span
                                class="text-danger">*</span></label>
                        <select class="form-select" aria-label="Default select example"
                            [(ngModel)]="fullArr[ii].sbu.locationId" name="locationId{{ii}}" ngDefaultControl>
                            <option value="">Choose SBU... </option>
                            <option value={{item.locationId}} *ngFor="let item of details.allsbu; let i = index">
                                {{item.locationName}} ({{item.shortCode}})</option>
                        </select>
                    </div>

                </div>
                <div class="col-sm-6 col-md-4  ">
                    <div class="form-group">
                        <label for="fullArr[ii].plant.plantId" class="form-label">Plant<span
                                class="text-danger">*</span></label>
                        <select class="form-select" aria-label="Default select example"
                            [(ngModel)]="fullArr[ii].plant.plantId" name="plantId{{ii}}" ngDefaultControl>
                            <option value="">Choose Plant... </option>
                            <option value={{item.plantId}} *ngFor="let item of details.allplant; let i = index">
                                {{item.plantName}} ({{item.shortCode}})</option>
                        </select>
                    </div>

                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="fullArr[ii].houseRegistration.houseId" class="form-label">House Name<span
                                class="text-danger">*</span></label>
                        <select class="form-select" aria-label="Default select example"
                            [(ngModel)]="fullArr[ii].houseRegistration.houseId" name="houseId{{ii}}"
                            ngDefaultControl>
                            <option value="">Choose House... </option>
                            <option value={{item.houseId}} *ngFor="let item of details.allhouses; let i = index">
                                {{item.houseId}}</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="fullArr[ii].unitNo" class="form-label">Room No.<span
                                class="text-danger">*</span></label>
                        <input type="text" ngDefaultControl class="form-control"
                            [(ngModel)]="fullArr[ii].unitNo" name="unitNo{{ii}}">
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="fullArr[ii].unitCapacity" class="form-label">Unit Capacity<span
                                class="text-danger">*</span></label>
                        <input type="text" ngDefaultControl class="form-control"
                            [(ngModel)]="fullArr[ii].unitCapacity" name="unitCapacity{{ii}}">
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="fullArr[ii].electBillPercent" class="form-label">Electric Bill Percentage<span
                                class="text-danger">*</span></label>
                        <input type="text" ngDefaultControl class="form-control"
                            [(ngModel)]="fullArr[ii].electBillPercent" name="electBillPercent{{ii}}">
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="fullArr[ii].waterBillPercent" class="form-label">Water Bill Percentage<span
                                class="text-danger">*</span></label>
                        <input type="text" ngDefaultControl class="form-control"
                            [(ngModel)]="fullArr[ii].waterBillPercent" name="waterBillPercent{{ii}}">
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="fullArr[ii].startDate" class="form-label">Start Date<span
                                class="text-danger">*</span></label>
                        <input type="date" ngDefaultControl class="form-control"
                            [(ngModel)]="fullArr[ii].startDate" name="startDate{{ii}}">
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="fullArr[ii].endDate" class="form-label">End Date<span
                                class="text-danger">*</span></label>
                        <input type="date" ngDefaultControl class="form-control"
                            [(ngModel)]="fullArr[ii].endDate" name="endDate{{ii}}">
                    </div>
                </div>

                <div class="btn-s col-sm-6 col-md-2">
                    <button type="button" class="button btn btn-danger form-save-btn py-0 px-4" (click)="moreObjRemove(ii,details.unitId)" *ngIf="!(fullArr.length==1)">-</button>
                    <button type="button" class="button btn btn-primary form-save-btn py-0 px-4"
                        (click)="addMoreObj(ii)" *ngIf="last">+</button>
                </div>               
                                    
            </div>
<<<<<<< HEAD
            <div class="row " style="background-color: rgba(226, 242, 246, 1); padding: 5%; margin-bottom: 0.5cm;">
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="state" class="form-label">House Name<span class="text-danger">*</span></label>
                        <select class="form-select" aria-label="Default select example"required>
                            <option selected>Choose House Name... </option>
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="state" class="form-label">Room No.<span class="text-danger">*</span></label>
                        <input type="text" name="" id="" class="form-control"required>
                    </div>
                </div>
    
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="state" class="form-label">Unit Capacity<span class="text-danger">*</span></label>
                        <input type="text" name="" id="" class="form-control"required>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="state" class="form-label">Electric Bill Percentage<span class="text-danger">*</span></label>
                        <input type="text" name="" id="" class="form-control"required>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="state" class="form-label">Water Bill Percentage<span class="text-danger">*</span></label>
                        <input type="text" name="" id="" class="form-control"required>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="state" class="form-label">Start Date<span class="text-danger">*</span></label>
                        <input type="date" name="" id="" class="form-control" formControlName="itemPurchaseDate"required>
                    </div>
                </div>
                <div class="col-sm-6 col-md-4">
                    <div class="form-group">
                        <label for="state" class="form-label">End Date<span class="text-danger">*</span></label>
                        <input type="date" name="" id="" class="form-control" formControlName="itemPurchaseDate"required>
                    </div>
                </div>
                
                <div class="btn-s col-sm-6 col-md-2    ">
    
    
                    <button class="button btn btn-primary form-save-btn py-0 px-4"  (click)="onClick1()">+</button>
                </div>
    
    
               
            </div>
    
    
            <!-- <div class="row gap-2 pt-4" style="background-color: rgba(226, 242, 246, 1);padding: 5%;">
               
                
                <div class="col-sm-6 col-md-2 py-2">
                    <label for="state" class="form-label">House_Name<span class="text-danger">*</span></label>
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                
                <div class="col-sm-6 col-md-2 py-2">
                    <label for="state" class="form-label">Room_No.<span class="text-danger">*</span></label>
    
                    <input type="text" name="" id="" class="form-control">
                </div>
    
                <div class="col-sm-6 col-md-2 py-2">
                    <label for="state" class="form-label">Unit_Capacity<span class="text-danger">*</span></label>
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
                    <label for="state" class="form-label">Electric_Bill%<span class="text-danger">*</span></label>
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
                    <label for="state" class="form-label">Water_Bill%<span class="text-danger">*</span></label>
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="btn-d col-sm-6 col-md-1 ">
                    <button type=" button" class=" button btn btn-danger py-0 px-3">-</button>
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
    
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-1  py-2">
                    <button type="button" class=" button btn btn-danger py-0 px-3">-</button>
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
    
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-1  py-2">
                    <button type="button" class=" button btn btn-danger py-0 px-3">-</button>
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
    
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-1  py-2">
                    <button type="button" class=" button btn btn-danger py-0 px-3">-</button>
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
    
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-2 py-2">
    
                    <input type="text" name="" id="" class="form-control">
                </div>
                <div class="col-sm-6 col-md-1  py-2">
                    <button type="button" class="button btn btn-danger py-0 px-3">-</button>
                </div>
    
                
    
            </div> -->
=======
            
>>>>>>> parent of 6864248 (Revert "change")
            <div class="mt-4 d-flex justify-content-end">
                <button class="btn btn-primary form-save-btn" (click)="saveUnits()">
                    Save
                </button>
            </div>
        </form>

        <div class="" style=" position: relative; overflow-x: auto; overflow-y: auto; margin-top: 30px;">
            <table class="table w-full table-bordered table-striped">
                <thead class="">
                    <tr>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7;">SL.NO</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7; ">House_Name</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7;">Room_No</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7;">Unit_Capacity</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7; ">Elec._bill_%</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7;">Water_bill_%</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7;">Start_Date</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7; ">End_Date</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7;">Created_Date</th>
                        <th style="background-color: rgba(0, 133, 159, 1);color: #faf7f7; ">Action</th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of allUnits; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>{{ item.houseRegistration.houseId }}</td>
                        <td>{{ item.unitNo }}</td>
                        <td>{{ item.unitCapacity}}</td>
                        <td>{{ item.electBillPercent }}</td>
                        <td>{{ item.waterBillPercent }}</td>
                        <td>{{ item.startDate}}</td>
                        <td>{{ item.endDate }}</td>
                        <td>{{ item.createdDate }}</td>

                        <td>
                            <div style="display: inline-flex; ">
                                <!-- <button class="btn  btn-sm mx-2"
                                    style="background-color: rgb(22, 133, 236);color: #faf7f7;">
                                    <i class="fa-solid fa-edit"></i>
                                </button> -->

                                <button class="btn btn-danger btn-sm mx-2 " (click)="deleteUnit(item.unitId)">
                                    <i class="fa-solid fa-trash-alt"></i>
                                </button>
                            </div>

                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>
<app-footer></app-footer>